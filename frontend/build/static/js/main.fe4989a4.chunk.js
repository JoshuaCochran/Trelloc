(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{199:function(e,t,n){e.exports=n(401)},208:function(e,t,n){},401:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(4),o=n(41),l=n(9),c=n(32),s=(n(208),n(209),n(402)),d=n(34),u=n(14),p=n.n(u),m=n(70),f=Object(o.b)({name:"user",initialState:{},reducers:{addUser:{reducer:function(e,t){var n=t.payload,a=n.username,r=n.email,i=n.token;e[0]={username:a,email:r,token:i}},prepare:function(e,t,n){return{payload:{username:e,email:t,token:n}}}},deleteUser:{reducer:function(e,t){delete e[0]}}}}),b=f.actions,h=b.addUser,g=b.deleteUser,y=f.reducer,x=n(408),E=x.a.confirm,v={display:"inline-block",position:"relative",marginRight:"4px",width:"32px",height:"32px",padding:0},w={logout:function(){return function(e){p.a.get("users/me/logout").then((function(t){(new m.a).remove("trelloc token",{path:"/"}),e(g())})).catch((function(e){console.log("Logout error!")}))}}},I=Object(l.b)(null,w)((function(e){var t=e.logout;return r.a.createElement(d.a,{onClick:function(){E({content:"Are you sure you want to log out?",onOk:function(){t()},onCancel:function(){}})},style:v,shape:"circle",icon:"logout"})})),k={backgroundImage:"url(https://a.trellocdn.com/prgb/dist/images/header-logo-2x.01ef898811a879595cea.png)",backgroundRepeat:"no-repeat",backgroundPosition:"center center",backgroundSize:"80px 30px",height:"40px",width:"100%",display:"flex",justifyContent:"flex-start",flexGrow:1,padding:"4px",lineHeight:"0",maxHeight:"40px"},O={display:"flex",justifyContent:"flex-start",flexGrow:1},j={display:"flex",justifyContent:"flex-end",flexGrow:1},C={display:"inline-block",position:"relative",marginRight:"4px",width:"32px",height:"32px",padding:0},S=function(){return r.a.createElement(s.a.Header,{style:k},r.a.createElement("div",{style:O},r.a.createElement(c.b,{to:"/"},r.a.createElement(d.a,{style:C,icon:"home"})),r.a.createElement(d.a,{style:C,icon:"file-search"}),r.a.createElement(d.a,{style:C,icon:"search"})),r.a.createElement("div",{style:j},r.a.createElement(d.a,{style:C,icon:"plus"}),r.a.createElement(d.a,{style:C,icon:"bell"}),r.a.createElement(I,null)))},L=n(53),A=n(11),B=n(403),P=n(46),D=Object(o.b)({name:"cards",initialState:{},reducers:{addCard:{reducer:function(e,t){var n=t.payload,a=n.owner,r=n.id,i=n.listId,o=n.title,l=n.description,c=n.position;e[r]={owner:a,id:r,listId:i,title:o,description:l,position:c}},prepare:function(e,t,n,a,r,i){return{payload:{owner:e,id:t,listId:n,title:a,description:r,position:i}}}},deleteCard:{reducer:function(e,t){var n=t.payload,a=e[n].listId,r=[];Object.keys(e).map((function(t){e[t].listId===e[n].listId&&r.push([e[t],t])})),r.sort((function(e,t){return e[0].position-t[0].position}));var i=r.splice(e[n].position,1);Object(A.a)(i,1)[0];delete e[n],r.forEach((function(t,n){e[t[1]].position=n})),Object.keys(e).map((function(t){if(e[t].listId===a){var n={listId:e[t].listId,title:e[t].title,position:e[t].position};p.a.put("cards/"+e[t].id,n).catch((function(e){console.log("Error in reorderCards!")}))}})),p.a.delete("cards/"+n).catch((function(e){console.log("Error in deleteCard!")}))}},renameCards:{reducer:function(e,t){var n=t.payload,a=n.id,r=n.title;e[a].title=r;var i={title:e[a].title};p.a.put("cards/"+a,i).catch((function(e){console.log("Error in renameCards!")}))},prepare:function(e,t){return{payload:{id:e,title:t}}}},reorderCards:{reducer:function(e,t){var n=t.payload,a=n.id,r=n.oldListId,i=n.newListId,o=n.oldPosition,l=n.newPosition,c=[],s=[];if(Object.keys(e).map((function(t){e[t].listId===r?c.push([e[t],t]):e[t].listId===i&&s.push([e[t],t])})),c.sort((function(e,t){return e[0].position-t[0].position})),s.sort((function(e,t){return e[0].position-t[0].position})),e[a].listId===i){var d=c.splice(o,1),u=Object(A.a)(d,1)[0];c.splice(l,0,u),c.forEach((function(t,n){e[t[1]].position=n}))}else{var m=c,f=m.splice(o,1),b=Object(A.a)(f,1)[0];m.forEach((function(t,n){e[t[1]].position=n})),e[a].listId=i,s.splice(l,0,b),s.forEach((function(t,n){e[t[1]].position=n}))}Object.keys(e).map((function(t){if(e[t].listId===r||e[t].listId===i){var n={listId:e[t].listId,title:e[t].title,position:e[t].position};p.a.put("cards/"+e[t].id,n).catch((function(e){console.log("Error in reorderCards!")}))}}))},prepare:function(e,t,n,a,r){return{payload:{id:e,oldListId:t,newListId:n,oldPosition:a,newPosition:r}}}}}}),H=D.actions,R=H.addCard,F=H.deleteCard,V=(H.moveCard,H.moveCards,H.reorderCards),W=H.renameCards,T=D.reducer,z=x.a.confirm,M={color:"#5e6c84",textAlign:"left",boxShadow:"none",height:"14px",width:"14px",borderColor:"transparent"},U={deleteCard:F},_=Object(l.b)(null,U)((function(e){var t=e.cardId,n=e.deleteCard;return r.a.createElement(d.a,{icon:"close",style:M,onClick:function(){return function(e,t){z({content:"Are you sure you want to delete this card?",onOk:function(){t(e)},onCancel:function(){}})}(t,n)}})})),q=n(405),G=n(406),N={maxHeight:"162px",minHeight:"20px"},Y={renameCards:W},J=Object(l.b)(null,Y)((function(e){var t=e.id,n=e.title,i=e.setFormVisible,o=e.renameCards,l=Object(a.useState)(n),c=Object(A.a)(l,2),s=c[0],d=c[1];return r.a.createElement(q.a,{layout:"inline",onSubmit:function(e){e.preventDefault(),s.trim()&&(o(t,s),d(""),i(!1))}},r.a.createElement(q.a.Item,{style:{width:"100%"}},r.a.createElement(G.a,{style:N,value:s,onChange:function(e){return d(e.target.value)},type:"text",placeholder:"Enter a title for this card...",autoFocus:!0})))})),X={borderRadius:"3px",zIndex:10,boxShadow:"0 1px 0 rgba(9, 30, 66, .25)",marginBottom:"8px",minHeight:"20px",maxWidth:"300px",padding:"0px !important"},$={padding:"6px 8px"},K={color:"#5e6c84",textAlign:"left",boxShadow:"none",height:"14px",width:"14px",borderColor:"transparent",marginRight:"4px"},Q=function(e){var t=e.id,n=e.position,i=e.title,o=Object(a.useState)(!1),l=Object(A.a)(o,2),c=l[0],s=l[1],u=Object(a.useState)(!1),p=Object(A.a)(u,2),m=p[0],f=p[1];return r.a.createElement(P.b,{key:t,draggableId:t,index:n,type:"CARD"},(function(e,n){return r.a.createElement("div",Object.assign({ref:e.innerRef},e.draggableProps,e.dragHandleProps),r.a.createElement(B.a,{key:t,style:X,bodyStyle:$,onMouseEnter:function(){return s(!0)},onMouseLeave:function(){return s(!1)}},r.a.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},m?r.a.createElement(J,{id:t,title:i,setFormVisible:f}):i,c&&!m?r.a.createElement("div",{style:{marginLeft:"8px"}},r.a.createElement(d.a,{style:K,icon:"edit",onClick:function(){return f(!0)}}),r.a.createElement(_,{cardId:t})):null)))}))},Z=function(e){var t=e.cards;return r.a.createElement("div",null,Object.values(t).sort((function(e,t){return e.position-t.position})).map((function(e){return r.a.createElement(Q,{key:e.id,id:e.id,position:e.position,title:e.title})})))},ee={maxHeight:"162px",minHeight:"54px"},te={display:"flex",flexDirection:"row",justifyContent:"flex-start",alignContent:"center"},ne={minHeight:"38px",maxHeight:"38px",backgroundColor:"#5aac44",color:"white"},ae={borderColor:"#ebecf0",color:"#5e6c84",textAlign:"left",boxShadow:"none",height:"38px",width:"38px",minWidth:"38px"},re={borderColor:"#ebecf0",color:"#5e6c84",textAlign:"left",boxShadow:"none"},ie={postCard:function(e,t,n,a){return function(r){var i={listId:e,title:t,description:"",position:a};p.a.post("cards",i).then((function(i){r(R(i.data.owner,i.data.card._id,e,t,n,a))})).catch((function(e){console.log("Error in CreateCard!")}))}}},oe=Object(l.b)((function(e){return{cards:e.cards}}),ie)((function(e){var t=e.cards,n=e.postCard,i=e.listId,o=e.isVisible,l=e.setIsVisible,c=e.fromDropDown,s=Object(a.useState)(""),u=Object(A.a)(s,2),p=u[0],m=u[1];return o?r.a.createElement(q.a,{layout:"inline",onSubmit:function(e){e.preventDefault(),p.trim()&&(n(i,p,"",function(e,t){return Object.values(e).filter((function(e){return e.listId===t})).length}(t,i)),m(""),l(!1))}},r.a.createElement(q.a.Item,{style:{width:"100%"}},r.a.createElement(G.a.TextArea,{style:ee,value:p,onChange:function(e){return m(e.target.value)},type:"text",placeholder:"Enter a title for this card...",autoFocus:!0,autoSize:!0})),r.a.createElement(q.a.Item,null,r.a.createElement("div",{style:te},r.a.createElement(d.a,{htmlType:"submit",style:ne,block:!0},"Add Card"),r.a.createElement(d.a,{ghost:!0,onClick:function(){l(!1),m("")},style:ae,icon:"close"})))):o||c?null:r.a.createElement(d.a,{block:!0,ghost:!0,onClick:function(){l(!0)},style:re,icon:"plus"},"Add another card")})),le=n(409),ce=n(10),se=n(404),de=Object(o.b)({name:"lists",initialState:{},reducers:{addList:{reducer:function(e,t){var n=t.payload,a=n.owner,r=n.id,i=n.boardId,o=n.title,l=n.position;e[r]={owner:a,id:r,boardId:i,title:o,position:l}},prepare:function(e,t,n,a,r){return{payload:{owner:e,id:t,boardId:n,title:a,position:r}}}},deleteList:{reducer:function(e,t){var n=t.payload,a=e[n].boardId,r=[];Object.keys(e).map((function(t){e[t].boardId===a&&r.push([e[t],t])})),r.sort((function(e,t){return e[0].position-t[0].position})),r.splice(e[n].position,1),delete e[n],r.forEach((function(t,n){e[t[1]].position=n})),Object.keys(e).map((function(t){if(e[t].boardId===a){var n={boardId:e[t].boardId,title:e[t].title,position:e[t].position};p.a.put("lists/"+e[t].id,n).catch((function(e){console.log("Error in deleteLists!")}))}})),p.a.delete("lists/"+n).catch((function(e){console.log("Error in deleteList!")}))}},renameList:{reducer:function(e,t){var n=t.payload,a=n.id,r=n.title;e[a].title=r;var i={title:r};p.a.put("lists/"+a,i).catch((function(e){console.log("Error in renameList!")}))},prepare:function(e,t){return{payload:{id:e,title:t}}}},moveList:{reducer:function(e,t){var n=t.payload,a=n.listId,r=n.newPosition,i=n.newBoardId;console.log(r);var o=[];if(Object.keys(e).map((function(t){return e[t].boardId===i?o.push([e[t],t]):null})),o.sort((function(e,t){return e[0].position-t[0].position})),e[a].boardId!==i&&(e[a].position=o.length,e[a].boardId=i,o.push([e[a],a])),e[a].position<o.length-1)for(var l=e[a].position+1;l<=r;l++)o[l][0].position-=1;else for(var c=r;c<e[a].position;c++)o[c][0].position+=1;e[a].position=r,o.forEach((function(t){return e[t[1]].position=t[0].position})),Object.keys(e).map((function(t){var n={boardId:e[t].boardId,title:e[t].title,position:e[t].position};p.a.put("lists/"+e[t].id,n).catch((function(e){console.log("Error in CreateBoard!")}))}))},prepare:function(e,t,n){return{payload:{listId:e,newPosition:t,newBoardId:n}}}},reorderLists:{reducer:function(e,t){var n=t.payload,a=(n.id,n.boardId),r=n.oldPosition,i=n.newPosition,o=[];Object.keys(e).map((function(t){e[t].boardId===a&&o.push([e[t],t])})),o.sort((function(e,t){return e[0].position-t[0].position}));var l=o.splice(r,1),c=Object(A.a)(l,1)[0];o.splice(i,0,c),o.forEach((function(t,n){e[t[1]].position=n})),Object.keys(e).map((function(t){if(e[t].boardId===a){var n={boardId:e[t].boardId,title:e[t].title,position:e[t].position};p.a.put("lists/"+e[t].id,n).catch((function(e){console.log("Error in reorderLists!")}))}}))},prepare:function(e,t,n,a){return{payload:{id:e,boardId:t,oldPosition:n,newPosition:a}}}}}}),ue=de.actions,pe=ue.addList,me=ue.deleteList,fe=ue.renameList,be=ue.moveList,he=ue.reorderLists,ge=de.reducer,ye=x.a.confirm,xe={width:"304px",overflow:"hidden"},Ee={margin:"4px 0"},ve={display:"block",textAlign:"center",height:"40px",color:"#172b4d"},we={display:"block",lineHeight:"40px",margin:"0 12px",overflow:"hidden",padding:"0 32px",textOverflow:"ellipsis",whiteSpace:"nowrap"},Ie={overflowX:"hidden",overflowY:"auto",padding:"0 12px 12px"},ke={cursor:"pointer",display:"block",fontWeight:"400",padding:"6px 12px",margin:"0 -12px",textDecoration:"none",color:"#172b4d"},Oe=function(e,t,n,a,r){"1"===e.key?t(!0):"3"===e.key?n(!0):"8"===e.key&&function(e,t){ye({content:"Are you sure you want to delete this list?",onOk:function(){t(e)},onCancel:function(){}})}(a,r)},je={deleteList:me},Ce=Object(l.b)(null,je)((function(e){var t=e.setIsVisible,n=e.setShowingMoveList,a=e.listId,i=e.deleteList;return r.a.createElement(se.a,{onClick:function(e){return Oe(e,t,n,a,i)},style:xe},r.a.createElement(se.a.Item,{style:ve},r.a.createElement("span",{style:we},"List Actions")),r.a.createElement(se.a.Divider,{style:Ee}),r.a.createElement(se.a.ItemGroup,{style:Ie},r.a.createElement(se.a.Item,{key:"1",style:ke},"Add Card..."),r.a.createElement(se.a.Item,{key:"2",style:ke},"Copy List..."),r.a.createElement(se.a.Item,{key:"3",style:ke},"Move List..."),r.a.createElement(se.a.Item,{key:"4",style:ke},"Watch"),r.a.createElement(se.a.Divider,{style:Ee}),r.a.createElement(se.a.Item,{key:"5",style:ke},"Sort By..."),r.a.createElement(se.a.Divider,{style:Ee}),r.a.createElement(se.a.Item,{key:"6",style:ke},"Move All Cards in This List..."),r.a.createElement(se.a.Item,{key:"7",style:ke},"Archive All Cards in This List..."),r.a.createElement(se.a.Divider,{style:Ee}),r.a.createElement(se.a.Item,{key:"8",style:ke},"Archive This List")))})),Se=n(407),Le=function(e){return e[Object.keys(e).find((function(t){return!0===e[t].isActive}))]},Ae=function(e,t){return e[t].title},Be=function(e){return e.id},Pe=function(e){return e.position},De=Se.a.Option,He={width:"304px",overflow:"hidden",height:"auto"},Re={margin:"4px 0"},Fe={display:"flex",alignItems:"center",textAlign:"center",justifyContent:"space-between",height:"40px",color:"#172b4d"},Ve={display:"block",lineHeight:"40px",margin:"0 12px",overflow:"hidden",padding:"0 32px",textOverflow:"ellipsis",whiteSpace:"nowrap"},We={borderColor:"transparent",color:"#5e6c84",textAlign:"left",boxShadow:"none",display:"block",height:"auto",padding:"10px 8px 10px 12px"},Te={left:0,margin:0,border:"none",width:"100%"},ze={height:"8px",margin:"8px",padding:"4px",fontSize:"14px",fontWeight:600},Me={moveList:be},Ue=Object(l.b)((function(e){return{boards:e.boards,lists:e.lists}}),Me)((function(e){var t=e.setIsVisible,n=e.setShowingMoveList,i=e.listId,o=e.boards,l=e.lists,c=e.moveList,s=Object(a.useState)(Be(Le(o))),u=Object(A.a)(s,2),p=u[0],m=u[1],f=Object(a.useState)(Pe(l[i])),b=Object(A.a)(f,2),h=b[0],g=b[1];return r.a.createElement(se.a,{onClick:function(e){return function(e,t,n){"1"===e.key?t(!0):"3"===e.key&&n(!0)}(e,t,n)},style:He},r.a.createElement(se.a.Item,{style:Fe},r.a.createElement(d.a,{onClick:function(){return n(!1)},icon:"left",style:We}),r.a.createElement("span",{style:Ve},"Move List"),r.a.createElement(d.a,{icon:"close",style:We})),r.a.createElement(se.a.Divider,{style:Re}),r.a.createElement("div",null,r.a.createElement("div",{style:ze},"Board: "),r.a.createElement(Se.a,{defaultValue:Ae(Le(o)),style:Te,onChange:function(e){return m(e)}},Object.keys(o).map((function(e){return r.a.createElement(De,{value:Be(o[e]),key:e},Ae(o[e]))})))),r.a.createElement("div",{style:ze},"Position: "),r.a.createElement(Se.a,{defaultValue:i,style:Te,onChange:function(e){return g(e)}},Object.keys(l).map((function(e){return l[e].boardId===p?r.a.createElement(De,{value:Pe(l[e]),key:e},Pe(l[e]),Pe(l[e])===i?" (current)":null):null}))),r.a.createElement(se.a.Item,null,r.a.createElement(d.a,{onClick:function(){return c(i,h,p)}},"Move")))})),_e=function(e){var t=e.setIsVisible,n=e.showingMoveList,a=e.setShowingMoveList,i=e.listId;return n?r.a.createElement(Ue,{setIsVisible:t,setShowingMoveList:a,listId:i}):r.a.createElement(Ce,{setIsVisible:t,setShowingMoveList:a,listId:i})},qe={borderColor:"#ebecf0",color:"#5e6c84",textAlign:"left",boxShadow:"none",float:"right"},Ge=function(e){var t=e.setIsVisible,n=e.listId,i=Object(a.useState)(!1),o=Object(A.a)(i,2),l=o[0],c=o[1];return r.a.createElement(le.a,{overlay:r.a.createElement(_e,{setIsVisible:t,showingMoveList:l,setShowingMoveList:c,listId:n}),trigger:["click"],placement:"bottomRight"},r.a.createElement(ce.a,{type:"ellipsis",style:qe}))},Ne={maxHeight:"162px",minHeight:"20px"},Ye={renameList:fe},Je=Object(l.b)(null,Ye)((function(e){var t=e.id,n=e.title,i=e.setFormVisible,o=e.renameList,l=Object(a.useState)(n),c=Object(A.a)(l,2),s=c[0],d=c[1];return r.a.createElement(q.a,{layout:"inline",onSubmit:function(e){e.preventDefault(),s.trim()&&(o(t,s),d(""),i(!1))}},r.a.createElement(q.a.Item,{style:{width:"100%"}},r.a.createElement(G.a,{style:Ne,value:s,onChange:function(e){return d(e.target.value)},type:"text",placeholder:"Enter a title for this list...",autoFocus:!0})))})),Xe={width:"272px",height:"100%",margin:"0 4px",boxSizing:"border-box",display:"inline-block",verticalAlign:"top"},$e={width:"272px",backgroundColor:"#ebecf0",marginLeft:"8px",borderRadius:"3px",boxSizing:"border-box",display:"flex",flexDirection:"column",maxHeight:"100%",overflowY:"hidden"},Ke={},Qe={flex:"0 0 auto",padding:"10px 8px",position:"relative",minHeight:"20px",fontWeight:600},Ze={minWidth:"100%",position:"relative",padding:"4px 0px",display:"flex",justify:"space-between"},et={borderColor:"#ebecf0",color:"#5e6c84",textAlign:"left",boxShadow:"none",float:"right"},tt={backgroundColor:"transparent",fontWeight:"700",lineHeight:"32px",padding:0,textDecoration:"none",maxWidth:"calc(100% - 24px)",textOverflow:"ellipsis",whiteSpace:"nowrap",height:"16px",borderColor:"transparent"},nt=function(e){var t=e.id,n=e.title,i=e.position,o=e.cards,l=Object(a.useRef)(null),c=Object(a.useState)(!1),s=Object(A.a)(c,2),u=s[0],p=s[1],m=Object(a.useState)(!1),f=Object(A.a)(m,2),b=f[0],h=f[1],g=Object(a.useState)(!1),y=Object(A.a)(g,2),x=y[0],E=y[1];Object(a.useEffect)((function(){return document.addEventListener("mousedown",v,!1),function(){document.removeEventListener("mousedown",v,!1)}}),[]);var v=function(e){l.current&&!l.current.contains(e.target)&&(p(!1),h(!1))};return r.a.createElement(P.b,{key:t,draggableId:t,index:i,type:"LIST"},(function(e,a){return r.a.createElement("div",Object.assign({ref:e.innerRef},e.draggableProps,e.dragHandleProps),r.a.createElement(P.c,{droppableId:t,type:"CARD"},(function(e,a){return r.a.createElement("div",{ref:e.innerRef},r.a.createElement("div",{style:Xe,ref:l},r.a.createElement(B.a,{style:$e,bodyStyle:{padding:"0 4px"}},r.a.createElement("div",{style:Ke},r.a.createElement("div",{style:Qe},x?r.a.createElement(Je,{id:t,title:n,setFormVisible:E}):r.a.createElement(d.a,{style:tt,onClick:function(){return E(!0)}},n),r.a.createElement(Ge,{style:et,setIsVisible:p,listId:t})),r.a.createElement("div",{style:Ze},r.a.createElement(oe,{listId:t,isVisible:u,setIsVisible:p,fromDropDown:!0},"Add another card")),r.a.createElement("div",{style:{zIndex:10,maxHeight:"80vh",overflowY:"scroll"}},r.a.createElement(Z,{cards:o})),r.a.createElement("div",{style:Ze},r.a.createElement(oe,{listId:t,isVisible:b,setIsVisible:h,fromDropDown:!1},"Add another card"))))),e.placeholder)})),e.placeholder)}))},at={marginLeft:"8px",minHeight:"38px",maxHeight:"38px",backgroundColor:"hsla(0, 0%, 100%, .24)",color:"white",borderColor:"transparent",width:"272px",display:"flex",justifyContent:"flex-start",maxWidth:"272px"},rt={marginLeft:"8px"},it={postList:function(e,t,n){return function(a){var r={boardId:e,title:t,position:n};p.a.post("lists",r).then((function(r){a(pe(r.data.owner,r.data.list._id,e,t,n))})).catch((function(e){console.log("Error in CreateBoard!")}))}}},ot=Object(l.b)((function(e){return{lists:e.lists}}),it)((function(e){var t=e.lists,n=e.postList,i=e.boardId,o=Object(a.useState)(!1),l=Object(A.a)(o,2),c=l[0],s=l[1],u=Object(a.useState)(""),p=Object(A.a)(u,2),m=p[0],f=p[1];return c?r.a.createElement(q.a,{layout:"inline",onSubmit:function(e){e.preventDefault(),m.trim()&&(n(i,m,function(e,t){return Object.values(e).filter((function(e){return e.boardId===t})).length}(t,i)),f(""),s(!1))},style:rt},r.a.createElement(q.a.Item,null,r.a.createElement(G.a,{value:m,onChange:function(e){return f(e.target.value)},type:"text",placeholder:"Enter a list title...",autoFocus:!0})),r.a.createElement(q.a.Item,null,r.a.createElement(d.a,{htmlType:"submit",style:at},"Add List"))):r.a.createElement(d.a,{onClick:function(){return s(!0)},style:at,icon:"plus"},"Add another list")})),lt={display:"flex",overflowX:"auto",flexWrap:"nowrap",height:"calc(100vh - 45px)"},ct={fetchLists:function(){return function(e){p.a.get("lists").then((function(t){t.data.map((function(t){e(pe(t.owner,t._id,t.boardId,t.title,t.position))}))}))}},fetchCards:function(){return function(e){p.a.get("cards").then((function(t){t.data.map((function(t){e(R(t.owner,t._id,t.listId,t.title,t.description,t.position))}))}))}}},st=Object(l.b)((function(e){return{cards:e.cards}}),ct)((function(e){var t=e.fetchLists,n=e.fetchCards,i=e.boardId,o=e.lists,l=e.cards;return Object(a.useEffect)((function(){t(),n()}),[]),r.a.createElement("div",{style:lt},o?Object.values(o).sort((function(e,t){return e.position-t.position})).map((function(e,t){return r.a.createElement(nt,Object.assign({key:e.id},e,{cards:Object.values(l).filter((function(t){return t.listId===e.id}))}))})):null,r.a.createElement(ot,{boardId:i}))})),dt=Object(o.b)({name:"boards",initialState:{},reducers:{addBoard:{reducer:function(e,t){var n=t.payload,a=n.id,r=n.owner,i=n.title,o=n.isPrivate,l=n.isActive;e[a]={id:a,owner:r,title:i,isPrivate:o,isActive:l}},prepare:function(e,t,n,a,r){return{payload:{id:e,owner:t,title:n,isPrivate:a,isActive:r}}}},deleteBoard:{reducer:function(e,t){var n=t.payload;delete e[n],p.a.delete("boards/"+n).catch((function(e){console.log("Error in deleteBoard!")}))}},renameBoard:{reducer:function(e,t){var n=t.payload,a=n.id,r=n.title;e[a].title=r;var i={title:e[a].title};p.a.put("boards/"+a,i).catch((function(e){console.log("Error in renameBoard!")}))},prepare:function(e,t){return{payload:{id:e,title:t}}}},setActive:{reducer:function(e,t){Object.keys(e).forEach((function(t){!0===e[t].isActive&&(e[t].isActive=!1)})),e[t.payload.id].isActive=t.payload.isActive},prepare:function(e,t){return{payload:{id:e,isActive:t}}}}}}),ut=dt.actions,pt=ut.addBoard,mt=ut.deleteBoard,ft=ut.renameBoard,bt=ut.setActive,ht=dt.reducer,gt=function(){return function(e){p.a.get("boards").then((function(t){t.data.map((function(t){e(pt(t._id,t.owner,t.title,t.isPrivate,t.isActive))}))}))}},yt=x.a.confirm,xt={color:"white",textAlign:"left",boxShadow:"none",float:"right",height:"32px",width:"auto",borderColor:"transparent",borderRadius:"3px",lineHeight:"32px",margin:"0 4px 4px 0",backgroundColor:"hsla(0,0%,100%, .24)"},Et=function(e,t){yt({content:"Are you really sure you want to delete this board?",okText:"Cancel",onOk:function(){},cancelText:"Ok",onCancel:function(){t(e)}})},vt={deleteBoard:mt},wt=Object(l.b)(null,vt)((function(e){var t=e.id,n=e.deleteBoard;return r.a.createElement(d.a,{style:xt,onClick:function(){return function(e,t){yt({content:"Are you sure you want to delete this board?",onOk:function(){Et(e,t)},onCancel:function(){}})}(t,n)}},"Archive")})),It={maxHeight:"162px",minHeight:"20px"},kt={renameBoard:ft},Ot=Object(l.b)(null,kt)((function(e){var t=e.id,n=e.title,i=e.setFormVisible,o=e.renameBoard,l=Object(a.useState)(n),c=Object(A.a)(l,2),s=c[0],d=c[1];return r.a.createElement(q.a,{layout:"inline",onSubmit:function(e){e.preventDefault(),s.trim()&&(o(t,s),d(""),i(!1))}},r.a.createElement(q.a.Item,{style:{width:"100%"}},r.a.createElement(G.a,{style:It,value:s,onChange:function(e){return d(e.target.value)},type:"text",placeholder:"Enter a title for this board...",autoFocus:!0})))})),jt={backgroundColor:"rgba(0,0,0,.24)",height:"auto",padding:"8px 4px 4px 8px",position:"relative",display:"block",color:"white"},Ct={backgroundColor:"transparent",fontSize:"18px",fontWeight:"700",lineHeight:"32px",padding:0,textDecoration:"none",maxWidth:"calc(100% - 24px)",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",height:"32px",borderColor:"transparent"},St=Object(l.b)((function(e){return{boards:e.boards}}),null)((function(e){var t=e.id,n=e.boards,i=Object(a.useState)(!1),o=Object(A.a)(i,2),l=o[0],c=o[1];return n[t]?r.a.createElement("div",{style:jt},r.a.createElement(d.a,{type:"primary",style:Ct,onClick:function(){return c(!0)}},l?r.a.createElement(Ot,{id:t,title:n[t].title,setFormVisible:c}):n[t].title),r.a.createElement(wt,{id:t})):null})),Lt={reorderCards:V,reorderLists:he},At=Object(l.b)((function(e){return{lists:e.lists}}),Lt)((function(e){var t=e.id,n=e.lists,a=e.reorderCards,i=e.reorderLists;return r.a.createElement(r.a.Fragment,null,r.a.createElement(St,{id:t}),r.a.createElement(P.a,{onDragEnd:function(e){var t=e.draggableId,n=e.type,r=e.source,o=e.destination;o&&("CARD"===n?(console.log("I'm a card!"),a(t,r.droppableId,o.droppableId,r.index,o.index)):"LIST"===n&&(console.log("I'm a list!"),i(t,r.droppableId,r.index,o.index)))}},r.a.createElement(P.c,{droppableId:t,type:"LIST",direction:"horizontal"},(function(e,a){return r.a.createElement("div",{ref:e.innerRef},r.a.createElement(st,{boardId:t,lists:Object.values(n).filter((function(e){return e.boardId===t}))}),e.placeholder)}))))})),Bt={marginRight:"8px",marginBottom:"8px",backgroundColor:"#97a0af",height:"80px",width:"100%",fontSize:"16px",fontWeight:700,color:"white",borderColor:"transparent"},Pt={marginLeft:"8px"},Dt={postBoard:function(e,t,n){return function(a){var r={title:e,isPrivate:t,isActive:n};p.a.post("boards",r).then((function(t){a(pt(t.data.board._id,t.data.board.owner,e,!0,!1))})).catch((function(e){console.log("Error in CreateBoard!")}))}}},Ht=Object(l.b)(null,Dt)((function(e){var t=e.postBoard,n=Object(a.useState)(!1),i=Object(A.a)(n,2),o=i[0],l=i[1],c=Object(a.useState)(""),s=Object(A.a)(c,2),u=s[0],p=s[1];return o?r.a.createElement(q.a,{layout:"inline",onSubmit:function(e){e.preventDefault(),u.trim()&&(t(u,!0,!1),p(""),l(!1))},style:Pt},r.a.createElement(q.a.Item,null,r.a.createElement(G.a,{value:u,onChange:function(e){return p(e.target.value)},type:"text",placeholder:"Enter a board title...",autoFocus:!0})),r.a.createElement(q.a.Item,null,r.a.createElement(d.a,{htmlType:"submit",style:Bt},"Add Board"))):r.a.createElement(d.a,{onClick:function(){return l(!0)},style:Bt},"Create new board")})),Rt={backgroundColor:"rgb(81, 152, 57)",height:"80px",width:"100%",fontSize:"16px",fontWeight:700,color:"white",display:"inline-block",overflow:"hidden",wordWrap:"break-word",flex:"0 0 auto",borderColor:"transparent"},Ft={setActive:bt},Vt=Object(l.b)(null,Ft)((function(e){var t=e.id,n=e.title,a=(e.isPrivate,e.setActive);return r.a.createElement(c.b,{to:"/user/boards/"+t},r.a.createElement(d.a,{style:Rt,onClick:function(){return a(t,!0)}},n))})),Wt={color:"white",fontSize:"24px",lineHeight:"20px",fontWeight:400},Tt={display:"flex",flexWrap:"wrap",flexGrow:1,minHeight:"100%",width:"100%"},zt={width:"calc(50% - 4px)",marginRight:"4px",marginBottom:"4px"},Mt={fetchBoards:gt},Ut=Object(l.b)((function(e){return{boards:e.boards,user:e.user}}),Mt)((function(e){var t=e.boards,n=e.user,i=e.fetchBoards;return Object(a.useEffect)((function(){i()}),[n]),r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("p",{style:Wt},r.a.createElement(ce.a,{type:"user"})," Personal Boards")),r.a.createElement("div",{style:Tt},Object.values(t).map((function(e,t){return r.a.createElement("div",{style:zt,key:t+e.id},r.a.createElement(Vt,Object.assign({key:e.id},e)))})),r.a.createElement("div",{style:zt},r.a.createElement(Ht,null))))})),_t=function(){return r.a.createElement("main",null,r.a.createElement(L.d,null,r.a.createElement(L.b,{exact:!0,path:"/user/boards/:id",render:function(e){return r.a.createElement(At,{id:e.match.params.id})}}),r.a.createElement(L.b,{exact:!0,path:"/user/boards",render:function(){return r.a.createElement(Ut,null)}}),r.a.createElement(L.b,{path:"/",render:function(){return r.a.createElement(L.a,{to:"/user/boards"})}})))},qt={borderRadius:"3px",backgroundColor:"white",minWidth:"250px",width:"20vw",margin:"auto",marginTop:"20vh",padding:"4px 8px"},Gt=q.a.create({name:"login_form"})((function(e){var t=e.onSubmit,n=e.form.getFieldDecorator;return r.a.createElement(q.a,{onSubmit:t,className:"login-form",style:qt},r.a.createElement(q.a.Item,null,r.a.createElement("h1",{style:{textAlign:"center",marginTop:"4px",marginBottom:"0px"}},"Log in to Trelloc")),r.a.createElement(q.a.Item,null,n("email",{rules:[{required:!0,message:"Please input your email!"}]})(r.a.createElement(G.a,{prefix:r.a.createElement(ce.a,{type:"mail",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Email"}))),r.a.createElement(q.a.Item,null,n("password",{rules:[{required:!0,message:"Please input your password!"}]})(r.a.createElement(G.a,{prefix:r.a.createElement(ce.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),type:"password",placeholder:"Password"}))),r.a.createElement(q.a.Item,null,r.a.createElement(c.b,{to:"/user/forgotpass/",style:{marginRight:"4px"}},"Forgot password"),r.a.createElement(c.b,{to:"/user/register/",style:{marginLeft:"4px"}},"Register")),r.a.createElement(q.a.Item,null,r.a.createElement(d.a,{type:"primary",htmlType:"submit",className:"login-form-button"},"Log in")))})),Nt={login:function(e,t){return function(n){var a={email:e,password:t};p.a.post("users/login",a).then((function(e){p.a.defaults.headers.common.Authorization="Bearer "+e.data.token,n(h(e.data.user.username,e.data.user.email,e.data.token)),(new m.a).set("trelloc token",e.data.token,{path:"/"})})).catch((function(e){console.log("Login error!")}))}}},Yt=Object(l.b)(null,Nt)((function(e){var t=e.login,n=Object(a.useState)(null),i=Object(A.a)(n,2),o=i[0],l=i[1],c=Object(a.useCallback)((function(e){null!==e&&l(e)}),[]);return r.a.createElement(Gt,{ref:c,onSubmit:function(e){e.preventDefault(),o.validateFields((function(e,n){e||(t(n.email,n.password),o.resetFields())}))}})})),Jt={borderRadius:"3px",backgroundColor:"white",minWidth:"250px",width:"20vw",margin:"auto",marginTop:"20vh",padding:"4px 8px"},Xt={marginBottom:"4px",marginTop:"4px"},$t=q.a.create({name:"registration_form"})((function(e){var t=e.onSubmit,n=e.form,a=n.getFieldDecorator;return r.a.createElement(q.a,{onSubmit:t,className:"login-form",style:Jt},r.a.createElement(q.a.Item,null,r.a.createElement("h1",{style:{textAlign:"center",marginTop:"4px",marginBottom:"0px"}},"Register for a Trelloc Account")),r.a.createElement(q.a.Item,{style:Xt},a("username",{rules:[{required:!0,message:"Please input your username!"}]})(r.a.createElement(G.a,{prefix:r.a.createElement(ce.a,{type:"user",style:{color:"rgba(0, 0, 0, .25"}}),placeholder:"Username"}))),r.a.createElement(q.a.Item,{style:Xt},a("email",{rules:[{type:"email",message:"Please input a valid email!"},{required:!0,message:"Please input your email!"}]})(r.a.createElement(G.a,{prefix:r.a.createElement(ce.a,{type:"mail",style:{color:"rgba(0, 0, 0, .25"}}),placeholder:"Email"}))),r.a.createElement(q.a.Item,{style:Xt},a("password",{rules:[{required:!0,message:"Please input your password!"},{validator:function(e,t,a){t&&n.validateFields(["confirm"],{force:!0}),a()}}]})(r.a.createElement(G.a,{prefix:r.a.createElement(ce.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),type:"password",placeholder:"Password"}))),r.a.createElement(q.a.Item,{style:Xt},a("confirm password",{rules:[{required:!0,message:"Please confirm your password!"},{validator:function(e,t,a){t&&t!==n.getFieldValue("password")?a("Passwords must match!"):a()}}]})(r.a.createElement(G.a,{prefix:r.a.createElement(ce.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),type:"password",placeholder:"Confirm password"}))),r.a.createElement(q.a.Item,null,r.a.createElement(d.a,{type:"primary",htmlType:"submit",className:"login-form-button"},"Register"),r.a.createElement(c.b,{to:"/user/login",style:{marginLeft:"8px"}}," or Log in")))})),Kt={register:function(e,t,n){return function(a){var r={username:e,email:t,password:n};p.a.post("users/",r).then((function(e){a(h(e.data.user.username,e.data.user.email,e.data.token)),(new m.a).set("trelloc token",e.data.token,{path:"/"})})).catch((function(e){console.log("Registration error!")}))}}},Qt=Object(l.b)(null,Kt)((function(e){var t=e.register,n=Object(a.useState)(null),i=Object(A.a)(n,2),o=i[0],l=i[1],c=Object(a.useCallback)((function(e){null!==e&&l(e)}),[]);return r.a.createElement($t,{ref:c,onSubmit:function(e){e.preventDefault(),o.validateFields((function(e,n){e||(t(n.username,n.email,n.password),o.resetFields())}))}})})),Zt=function(){return r.a.createElement("main",null,r.a.createElement(L.d,null,r.a.createElement(L.b,{exact:!0,path:"/user/login",render:function(){return r.a.createElement(Yt,null)}}),r.a.createElement(L.b,{exact:!0,path:"/user/register",render:function(){return r.a.createElement(Qt,null)}}),r.a.createElement(L.b,{path:"/",render:function(){return r.a.createElement(Qt,null)}})))},en=function(e){return!(!e[0]||!e[0].token)},tn={backgroundColor:"black",minHeight:"100vh",fontFamily:"Helvetica",fontSize:"14px",fontWeight:400,lineHeight:"20px"},nn={padding:"4px",backgroundColor:"black",height:"100%"};var an={fetchUserDetails:function(e){return function(t){e&&p.a.get("users/me").then((function(n){t(h(n.data.username,n.data.email,e))}))}},fetchBoards:gt},rn=Object(l.b)((function(e){return{user:e.user}}),an)((function(e){var t=e.user,n=e.fetchUserDetails,i=e.fetchBoards;return Object(a.useEffect)((function(){var e=(new m.a).get("trelloc token");p.a.defaults.baseURL="https://warm-sea-05824.herokuapp.com/api/",p.a.defaults.headers.common.Authorization="Bearer "+e,p.a.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded",n(e)}),[]),Object(a.useEffect)((function(){en(t)&&i()}),[t]),r.a.createElement("div",{className:"App"},r.a.createElement(s.a,{style:tn},r.a.createElement(S,null),r.a.createElement(s.a.Content,{style:nn},en(t)?r.a.createElement(_t,null):r.a.createElement(Zt,null))))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var on=n(23),ln=Object(on.combineReducers)({cards:T,lists:ge,boards:ht,user:y}),cn=Object(o.a)({reducer:ln});Object(i.render)(r.a.createElement(l.a,{store:cn},r.a.createElement(c.a,null,r.a.createElement(rn,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[199,1,2]]]);
//# sourceMappingURL=main.fe4989a4.chunk.js.map