(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{173:function(e,t,a){e.exports=a(341)},182:function(e,t,a){},341:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(4),o=a(41),l=a(14),c=a(31),s=(a(182),a(183),a(342)),d=a(34),u=a(19),m=Object(o.b)({name:"user",initialState:{},reducers:{addUser:{reducer:function(e,t){var a=t.payload,n=a.username,r=a.email,i=a.token;e[0]={username:n,email:r,token:i}},prepare:function(e,t,a){return{payload:{username:e,email:t,token:a}}}},deleteUser:{reducer:function(e,t){delete e[0]}}}}),p=m.actions,f=p.addUser,b=p.deleteUser,g=m.reducer,h=a(16),y=a.n(h),x=a(51),E=a(348),v={display:"inline-block",position:"relative",marginRight:"4px",width:"32px",height:"32px",padding:0},w={deleteUser:b},k=Object(l.b)(null,w)((function(e){var t=e.deleteUser,a=Object(n.useState)(!1),i=Object(u.a)(a,2),o=i[0],l=i[1];return r.a.createElement("div",null,r.a.createElement(d.a,{type:"primary",onClick:function(){l(!0)},style:v,shape:"circle",icon:"codepen"}),r.a.createElement(E.a,{title:"Logout",visible:o,onOk:function(e){y.a.get("users/me/logout").then((function(e){(new x.a).remove("trelloc token",{path:"/"}),t()})).catch((function(e){console.log("Logout error!")})),l(!1)},okText:"Yes",onCancel:function(e){},cancelText:"No"},r.a.createElement("p",null,"Are you sure you want to log out?")))})),I={backgroundImage:"url(https://a.trellocdn.com/prgb/dist/images/header-logo-2x.01ef898811a879595cea.png)",backgroundRepeat:"no-repeat",backgroundPosition:"center center",backgroundSize:"80px 30px",height:"40px",width:"100%",display:"flex",justifyContent:"flex-start",flexGrow:1,padding:"4px",lineHeight:"0",maxHeight:"40px"},j={display:"flex",justifyContent:"flex-start",flexGrow:1},O={display:"flex",justifyContent:"flex-end",flexGrow:1},C={display:"inline-block",position:"relative",marginRight:"4px",width:"32px",height:"32px",padding:0},S=function(){return r.a.createElement(s.a.Header,{style:I},r.a.createElement("div",{style:j},r.a.createElement(c.b,{to:"/"},r.a.createElement(d.a,{style:C,icon:"home"})),r.a.createElement(d.a,{style:C,icon:"file-search"}),r.a.createElement(d.a,{style:C,icon:"search"})),r.a.createElement("div",{style:O},r.a.createElement(d.a,{style:C,icon:"plus"}),r.a.createElement(d.a,{style:C,icon:"bell"}),r.a.createElement(k,null)))},A=a(52),L=a(343),B={borderRadius:"3px",zIndex:10,boxShadow:"0 1px 0 rgba(9, 30, 66, .25)",marginBottom:"8px",minHeight:"20px",maxWidth:"300px",padding:"0px !important"},D={padding:"6px 8px 2px"},P=function(e){var t=e.cards;return r.a.createElement("div",null,Object.values(t).sort((function(e,t){return e.position-t.position})).map((function(e){return r.a.createElement(L.a,{key:e.id,style:B,bodyStyle:D},e.title)})))},H=Object(o.b)({name:"cards",initialState:{},reducers:{addCard:{reducer:function(e,t){var a=t.payload,n=a.id,r=a.listId,i=a.title,o=a.description,l=a.position;e[n]={id:n,listId:r,title:i,description:o,position:l}},prepare:function(e,t,a,n,r){return{payload:{id:e,listId:t,title:a,description:n,position:r}}}},deleteCard:{reducer:function(e,t){delete e[t.payload.id]}},moveCard:{reducer:function(e,t){e[t.payload.id].listId=t.payload.listId}},moveCards:{reducer:function(e,t){Object.keys(e).forEach((function(a){e[a].listId===t.payload.listId&&(e[a].listId=t.payload.swapListId)}))}}}}),R=H.actions,T=R.addCard,W=(R.deleteCard,R.moveCard,R.moveCards,H.reducer),V=a(344),U=a(347),z=function(e,t){return Object.values(e).filter((function(e){return e.listId===t})).length},F={maxHeight:"162px",minHeight:"54px"},M={display:"flex",flexDirection:"row",justifyContent:"flex-start",alignContent:"center"},_={minHeight:"38px",maxHeight:"38px",backgroundColor:"#5aac44",color:"white"},q={borderColor:"#ebecf0",color:"#5e6c84",textAlign:"left",boxShadow:"none",height:"38px",width:"38px",minWidth:"38px"},N={borderColor:"#ebecf0",color:"#5e6c84",textAlign:"left",boxShadow:"none"},G={addCard:T},Y=Object(l.b)((function(e){return{cards:e.cards}}),G)((function(e){var t=e.cards,a=e.addCard,i=e.listId,o=e.isVisible,l=e.setIsVisible,c=e.fromDropDown,s=Object(n.useState)(""),m=Object(u.a)(s,2),p=m[0],f=m[1];return o?r.a.createElement(V.a,{layout:"inline",onSubmit:function(e){if(e.preventDefault(),p.trim()){var n={listId:i,title:p,description:"",position:z(t,i)};y.a.post("http://localhost:8082/api/cards",n).then((function(e){a(e.data.card._id,i,p,z(t,i))})).catch((function(e){console.log("Error in CreateCard!")})),f(""),l(!1)}}},r.a.createElement(V.a.Item,{style:{width:"100%"}},r.a.createElement(U.a.TextArea,{style:F,value:p,onChange:function(e){return f(e.target.value)},type:"text",placeholder:"Enter a title for this card...",autoFocus:!0,autoSize:!0})),r.a.createElement(V.a.Item,null,r.a.createElement("div",{style:M},r.a.createElement(d.a,{htmlType:"submit",style:_,block:!0},"Add Card"),r.a.createElement(d.a,{ghost:!0,onClick:function(){l(!1),f("")},style:q,icon:"close"})))):o||c?null:r.a.createElement(d.a,{block:!0,ghost:!0,onClick:function(){l(!0)},style:N,icon:"plus"},"Add another card")})),J=a(349),X=a(9),$=a(345),K={width:"304px",overflow:"hidden"},Q={margin:"4px 0"},Z={display:"block",textAlign:"center",height:"40px",color:"#172b4d"},ee={display:"block",lineHeight:"40px",margin:"0 12px",overflow:"hidden",padding:"0 32px",textOverflow:"ellipsis",whiteSpace:"nowrap"},te={overflowX:"hidden",overflowY:"auto",padding:"0 12px 12px"},ae={cursor:"pointer",display:"block",fontWeight:"400",padding:"6px 12px",margin:"0 -12px",textDecoration:"none",color:"#172b4d"},ne=function(e){var t=e.setIsVisible,a=e.setShowingMoveList;return r.a.createElement($.a,{onClick:function(e){return function(e,t,a){"1"===e.key?t(!0):"3"===e.key&&a(!0)}(e,t,a)},style:K},r.a.createElement($.a.Item,{style:Z},r.a.createElement("span",{style:ee},"List Actions")),r.a.createElement($.a.Divider,{style:Q}),r.a.createElement($.a.ItemGroup,{style:te},r.a.createElement($.a.Item,{key:"1",style:ae},"Add Card..."),r.a.createElement($.a.Item,{key:"2",style:ae},"Copy List..."),r.a.createElement($.a.Item,{key:"3",style:ae},"Move List..."),r.a.createElement($.a.Item,{key:"4",style:ae},"Watch"),r.a.createElement($.a.Divider,{style:Q}),r.a.createElement($.a.Item,{key:"5",style:ae},"Sort By..."),r.a.createElement($.a.Divider,{style:Q}),r.a.createElement($.a.Item,{key:"6",style:ae},"Move All Cards in This List..."),r.a.createElement($.a.Item,{key:"7",style:ae},"Archive All Cards in This List..."),r.a.createElement($.a.Divider,{style:Q}),r.a.createElement($.a.Item,{key:"8",style:ae},"Archive This List")))},re=a(346),ie=Object(o.b)({name:"lists",initialState:{},reducers:{addList:{reducer:function(e,t){var a=t.payload,n=a.id,r=a.boardId,i=a.title,o=a.position;e[n]={id:n,boardId:r,title:i,position:o}},prepare:function(e,t,a,n){return{payload:{id:e,boardId:t,title:a,position:n}}}},deleteList:{reducer:function(e,t){delete e[t.payload.id]}},moveList:{reducer:function(e,t){var a=t.payload,n=a.listId,r=a.newPosition,i=a.newBoardId;console.log(r);var o=[];if(Object.keys(e).map((function(t){return e[t].boardId===i?o.push([e[t],t]):null})),o.sort((function(e,t){return e[0].position-t[0].position})),e[n].boardId!==i&&(e[n].position=o.length,e[n].boardId=i,o.push([e[n],n])),e[n].position<o.length-1)for(var l=e[n].position+1;l<=r;l++)o[l][0].position-=1;else for(var c=r;c<e[n].position;c++)o[c][0].position+=1;e[n].position=r,o.forEach((function(t){return e[t[1]].position=t[0].position})),Object.keys(e).map((function(t){var a={boardId:e[t].boardId,title:e[t].title,position:e[t].position};y.a.put("http://localhost:8082/api/lists/"+e[t].id,a).catch((function(e){console.log("Error in CreateBoard!")}))}))},prepare:function(e,t,a){return{payload:{listId:e,newPosition:t,newBoardId:a}}}}}}),oe=ie.actions,le=oe.addList,ce=(oe.deleteList,oe.moveList),se=ie.reducer,de=function(e){return e[Object.keys(e).find((function(t){return!0===e[t].isActive}))]},ue=function(e){return e.title},me=function(e){return e.id},pe=function(e){return e.position},fe=re.a.Option,be={width:"304px",overflow:"hidden",height:"auto"},ge={margin:"4px 0"},he={display:"flex",alignItems:"center",textAlign:"center",justifyContent:"space-between",height:"40px",color:"#172b4d"},ye={display:"block",lineHeight:"40px",margin:"0 12px",overflow:"hidden",padding:"0 32px",textOverflow:"ellipsis",whiteSpace:"nowrap"},xe={borderColor:"transparent",color:"#5e6c84",textAlign:"left",boxShadow:"none",display:"block",height:"auto",padding:"10px 8px 10px 12px"},Ee={left:0,margin:0,border:"none",width:"100%"},ve={height:"8px",margin:"8px",padding:"4px",fontSize:"14px",fontWeight:600},we={moveList:ce},ke=Object(l.b)((function(e){return{boards:e.boards,lists:e.lists}}),we)((function(e){var t=e.setIsVisible,a=e.setShowingMoveList,i=e.listId,o=e.boards,l=e.lists,c=e.moveList,s=Object(n.useState)(me(de(o))),m=Object(u.a)(s,2),p=m[0],f=m[1],b=Object(n.useState)(pe(l[i])),g=Object(u.a)(b,2),h=g[0],y=g[1];return r.a.createElement($.a,{onClick:function(e){return function(e,t,a){"1"===e.key?t(!0):"3"===e.key&&a(!0)}(e,t,a)},style:be},r.a.createElement($.a.Item,{style:he},r.a.createElement(d.a,{onClick:function(){return a(!1)},icon:"left",style:xe}),r.a.createElement("span",{style:ye},"Move List"),r.a.createElement(d.a,{icon:"close",style:xe})),r.a.createElement($.a.Divider,{style:ge}),r.a.createElement("div",null,r.a.createElement("div",{style:ve},"Board: "),r.a.createElement(re.a,{defaultValue:ue(de(o)),style:Ee,onChange:function(e){return f(e)}},Object.keys(o).map((function(e){return r.a.createElement(fe,{value:me(o[e]),key:e},ue(o[e]))})))),r.a.createElement("div",{style:ve},"Position: "),r.a.createElement(re.a,{defaultValue:i,style:Ee,onChange:function(e){return y(e)}},Object.keys(l).map((function(e){return l[e].boardId===p?r.a.createElement(fe,{value:pe(l[e]),key:e},pe(l[e]),pe(l[e])===i?" (current)":null):null}))),r.a.createElement($.a.Item,null,r.a.createElement(d.a,{onClick:function(){return c(i,h,p)}},"Move")))})),Ie=function(e){var t=e.setIsVisible,a=e.showingMoveList,n=e.setShowingMoveList,i=e.listId;return a?r.a.createElement(ke,{setIsVisible:t,setShowingMoveList:n,listId:i}):r.a.createElement(ne,{setIsVisible:t,setShowingMoveList:n})},je={borderColor:"#ebecf0",color:"#5e6c84",textAlign:"left",boxShadow:"none",float:"right"},Oe=function(e){var t=e.setIsVisible,a=e.listId,i=Object(n.useState)(!1),o=Object(u.a)(i,2),l=o[0],c=o[1];return r.a.createElement(J.a,{overlay:r.a.createElement(Ie,{setIsVisible:t,showingMoveList:l,setShowingMoveList:c,listId:a}),trigger:["click"],placement:"bottomRight"},r.a.createElement(X.a,{type:"ellipsis",style:je}))},Ce={width:"272px",height:"100%",margin:"0 4px",boxSizing:"border-box",display:"inline-block",verticalAlign:"top"},Se={width:"272px",backgroundColor:"#ebecf0",marginLeft:"8px",borderRadius:"3px",boxSizing:"border-box",display:"flex",flexDirection:"column",maxHeight:"100%",overflowY:"hidden"},Ae={},Le={flex:"0 0 auto",padding:"10px 8px",position:"relative",minHeight:"20px",fontWeight:600},Be={minWidth:"100%",position:"relative",padding:"4px 0px",display:"flex",justify:"space-between"},De={borderColor:"#ebecf0",color:"#5e6c84",textAlign:"left",boxShadow:"none",float:"right"},Pe=function(e){var t=e.id,a=e.title,i=e.cards,o=Object(n.useRef)(null),l=Object(n.useState)(!1),c=Object(u.a)(l,2),s=c[0],d=c[1],m=Object(n.useState)(!1),p=Object(u.a)(m,2),f=p[0],b=p[1];Object(n.useEffect)((function(){return document.addEventListener("mousedown",g,!1),function(){document.removeEventListener("mousedown",g,!1)}}),[]);var g=function(e){o.current&&!o.current.contains(e.target)&&(d(!1),b(!1))};return r.a.createElement("div",{style:Ce,ref:o},r.a.createElement(L.a,{style:Se,bodyStyle:{padding:"0 4px"}},r.a.createElement("div",{style:Ae},r.a.createElement("div",{style:Le},a," ",r.a.createElement(Oe,{style:De,setIsVisible:d,listId:t})),r.a.createElement("div",{style:Be},r.a.createElement(Y,{listId:t,isVisible:s,setIsVisible:d,fromDropDown:!0},"Add another card")),r.a.createElement("div",{style:{zIndex:10,maxHeight:"80vh",overflowY:"scroll"}},r.a.createElement(P,{cards:i})),r.a.createElement("div",{style:Be},r.a.createElement(Y,{listId:t,isVisible:f,setIsVisible:b,fromDropDown:!1},"Add another card")))))},He=function(e,t){return Object.values(e).filter((function(e){return e.boardId===t})).length},Re={marginLeft:"8px",minHeight:"38px",maxHeight:"38px",backgroundColor:"hsla(0, 0%, 100%, .24)",color:"white",borderColor:"transparent",width:"272px",display:"flex",justifyContent:"flex-start",maxWidth:"272px"},Te={marginLeft:"8px"},We={addList:le},Ve=Object(l.b)((function(e){return{lists:e.lists}}),We)((function(e){var t=e.lists,a=e.addList,i=e.boardId,o=Object(n.useState)(!1),l=Object(u.a)(o,2),c=l[0],s=l[1],m=Object(n.useState)(""),p=Object(u.a)(m,2),f=p[0],b=p[1];return c?r.a.createElement(V.a,{layout:"inline",onSubmit:function(e){if(e.preventDefault(),f.trim()){var n={boardId:i,title:f,position:He(t,i)};y.a.post("lists",n).then((function(e){a(e.data.list._id,i,f,He(t,i))})).catch((function(e){console.log("Error in CreateBoard!")})),b(""),s(!1)}},style:Te},r.a.createElement(V.a.Item,null,r.a.createElement(U.a,{value:f,onChange:function(e){return b(e.target.value)},type:"text",placeholder:"Enter a list title...",autoFocus:!0})),r.a.createElement(V.a.Item,null,r.a.createElement(d.a,{htmlType:"submit",style:Re},"Add List"))):r.a.createElement(d.a,{onClick:function(){return s(!0)},style:Re,icon:"plus"},"Add another list")})),Ue={display:"flex",overflowX:"auto",flexWrap:"nowrap",height:"calc(100vh - 45px)"},ze={addList:le,addCard:T},Fe=Object(l.b)((function(e){return{cards:e.cards}}),ze)((function(e){var t=e.addList,a=e.addCard,i=e.boardId,o=e.lists,l=e.cards;return Object(n.useEffect)((function(){y.a.get("lists").then((function(e){e.data.map((function(e){t(e._id,e.boardId,e.title,e.position)}))})),y.a.get("cards").then((function(e){e.data.map((function(e){a(e._id,e.listId,e.title,e.description,e.position)}))}))}),[]),r.a.createElement("div",{style:Ue},o?Object.values(o).sort((function(e,t){return e.position-t.position})).map((function(e,t){return r.a.createElement(Pe,Object.assign({key:e.id},e,{cards:Object.values(l).filter((function(t){return t.listId===e.id}))}))})):null,r.a.createElement(Ve,{boardId:i}))})),Me=Object(l.b)((function(e){return{lists:e.lists}}),null)((function(e){var t=e.id,a=e.lists;return r.a.createElement("div",null,r.a.createElement(Fe,{boardId:t,lists:Object.values(a).filter((function(e){return e.boardId===t}))}))})),_e=Object(o.b)({name:"boards",initialState:{},reducers:{addBoard:{reducer:function(e,t){var a=t.payload,n=a.id,r=a.owner,i=a.title,o=a.isPrivate,l=a.isActive;e[n]={id:n,owner:r,title:i,isPrivate:o,isActive:l}},prepare:function(e,t,a,n,r){return{payload:{id:e,owner:t,title:a,isPrivate:n,isActive:r}}}},deleteBoard:{reducer:function(e,t){delete e[t.payload.id]}},setActive:{reducer:function(e,t){Object.keys(e).forEach((function(t){!0===e[t].isActive&&(e[t].isActive=!1)})),e[t.payload.id].isActive=t.payload.isActive},prepare:function(e,t){return{payload:{id:e,isActive:t}}}}}}),qe=_e.actions,Ne=qe.addBoard,Ge=(qe.deleteBoard,qe.setActive),Ye=_e.reducer,Je={marginRight:"8px",marginBottom:"8px",backgroundColor:"#97a0af",height:"80px",width:"100%",fontSize:"16px",fontWeight:700,color:"white",borderColor:"transparent"},Xe={marginLeft:"8px"},$e={addBoard:Ne},Ke=Object(l.b)(null,$e)((function(e){var t=e.addBoard,a=Object(n.useState)(!1),i=Object(u.a)(a,2),o=i[0],l=i[1],c=Object(n.useState)(""),s=Object(u.a)(c,2),m=s[0],p=s[1];return o?r.a.createElement(V.a,{layout:"inline",onSubmit:function(e){if(e.preventDefault(),m.trim()){var a={title:m,isPrivate:!0,isActive:!1};y.a.post("boards",a).then((function(e){t(e.data.board._id,e.data.board.owner,m,!0,!1)})).catch((function(e){console.log("Error in CreateBoard!")})),p(""),l(!1)}},style:Xe},r.a.createElement(V.a.Item,null,r.a.createElement(U.a,{value:m,onChange:function(e){return p(e.target.value)},type:"text",placeholder:"Enter a board title...",autoFocus:!0})),r.a.createElement(V.a.Item,null,r.a.createElement(d.a,{htmlType:"submit",style:Je},"Add Board"))):r.a.createElement(d.a,{onClick:function(){return l(!0)},style:Je},"Create new board")})),Qe={backgroundColor:"rgb(81, 152, 57)",height:"80px",width:"100%",fontSize:"16px",fontWeight:700,color:"white",display:"inline-block",overflow:"hidden",wordWrap:"break-word",flex:"0 0 auto",borderColor:"transparent"},Ze={setActive:Ge},et=Object(l.b)(null,Ze)((function(e){var t=e.id,a=e.title,n=(e.isPrivate,e.setActive);return r.a.createElement(c.b,{to:"/user/boards/"+t},r.a.createElement(d.a,{style:Qe,onClick:function(){return n(t,!0)}},a))})),tt={color:"white",fontSize:"24px",lineHeight:"20px",fontWeight:400},at={display:"flex",flexWrap:"wrap",flexGrow:1,minHeight:"100%",width:"100%"},nt={width:"calc(50% - 4px)",marginRight:"4px",marginBottom:"4px"},rt={addBoard:Ne},it=Object(l.b)((function(e){return{boards:e.boards,user:e.user}}),rt)((function(e){var t=e.boards,a=e.user,i=e.addBoard;return Object(n.useEffect)((function(){y.a.get("boards").then((function(e){e.data.map((function(e){i(e._id,e.owner,e.title,e.isPrivate,e.isActive)}))}))}),[a]),r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("p",{style:tt},r.a.createElement(X.a,{type:"user"})," Personal Boards")),r.a.createElement("div",{style:at},Object.values(t).map((function(e,t){return r.a.createElement("div",{style:nt,key:t+e.id},r.a.createElement(et,Object.assign({key:e.id},e)))})),r.a.createElement("div",{style:nt},r.a.createElement(Ke,null))))})),ot=function(){return r.a.createElement("main",null,r.a.createElement(A.d,null,r.a.createElement(A.b,{exact:!0,path:"/user/boards/:id",render:function(e){return r.a.createElement(Me,{id:e.match.params.id})}}),r.a.createElement(A.b,{exact:!0,path:"/user/boards",render:function(){return r.a.createElement(it,null)}}),r.a.createElement(A.b,{path:"/",render:function(){return r.a.createElement(A.a,{to:"/user/boards"})}})))},lt={borderRadius:"3px",backgroundColor:"white",minWidth:"250px",width:"20vw",margin:"auto",marginTop:"20vh",padding:"4px 8px"},ct=V.a.create({name:"login_form"})((function(e){var t=e.onSubmit,a=e.form.getFieldDecorator;return r.a.createElement(V.a,{onSubmit:t,className:"login-form",style:lt},r.a.createElement(V.a.Item,null,r.a.createElement("h1",{style:{textAlign:"center",marginTop:"4px",marginBottom:"0px"}},"Log in to Trelloc")),r.a.createElement(V.a.Item,null,a("email",{rules:[{required:!0,message:"Please input your email!"}]})(r.a.createElement(U.a,{prefix:r.a.createElement(X.a,{type:"mail",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Email"}))),r.a.createElement(V.a.Item,null,a("password",{rules:[{required:!0,message:"Please input your password!"}]})(r.a.createElement(U.a,{prefix:r.a.createElement(X.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),type:"password",placeholder:"Password"}))),r.a.createElement(V.a.Item,null,r.a.createElement(c.b,{to:"/user/forgotpass/",style:{marginRight:"4px"}},"Forgot password"),r.a.createElement(c.b,{to:"/user/register/",style:{marginLeft:"4px"}},"Register")),r.a.createElement(V.a.Item,null,r.a.createElement(d.a,{type:"primary",htmlType:"submit",className:"login-form-button"},"Log in")))})),st={addUser:f},dt=Object(l.b)(null,st)((function(e){var t=e.addUser,a=Object(n.useState)(null),i=Object(u.a)(a,2),o=i[0],l=i[1],c=Object(n.useCallback)((function(e){null!==e&&l(e)}),[]);return r.a.createElement(ct,{ref:c,onSubmit:function(e){e.preventDefault(),o.validateFields((function(e,a){if(!e){var n={email:a.email,password:a.password};y.a.post("users/login",n).then((function(e){y.a.defaults.headers.common.Authorization="Bearer "+e.data.token,t(e.data.user.username,e.data.user.email,e.data.token),(new x.a).set("trelloc token",e.data.token,{path:"/"})})).catch((function(e){console.log("Login error!")})),o.resetFields()}}))}})})),ut={borderRadius:"3px",backgroundColor:"white",minWidth:"250px",width:"20vw",margin:"auto",marginTop:"20vh",padding:"4px 8px"},mt={marginBottom:"4px",marginTop:"4px"},pt=V.a.create({name:"registration_form"})((function(e){var t=e.onSubmit,a=e.form,n=a.getFieldDecorator;return r.a.createElement(V.a,{onSubmit:t,className:"login-form",style:ut},r.a.createElement(V.a.Item,null,r.a.createElement("h1",{style:{textAlign:"center",marginTop:"4px",marginBottom:"0px"}},"Register for a Trelloc Account")),r.a.createElement(V.a.Item,{style:mt},n("username",{rules:[{required:!0,message:"Please input your username!"}]})(r.a.createElement(U.a,{prefix:r.a.createElement(X.a,{type:"user",style:{color:"rgba(0, 0, 0, .25"}}),placeholder:"Username"}))),r.a.createElement(V.a.Item,{style:mt},n("email",{rules:[{type:"email",message:"Please input a valid email!"},{required:!0,message:"Please input your email!"}]})(r.a.createElement(U.a,{prefix:r.a.createElement(X.a,{type:"mail",style:{color:"rgba(0, 0, 0, .25"}}),placeholder:"Email"}))),r.a.createElement(V.a.Item,{style:mt},n("password",{rules:[{required:!0,message:"Please input your password!"},{validator:function(e,t,n){t&&a.validateFields(["confirm"],{force:!0}),n()}}]})(r.a.createElement(U.a,{prefix:r.a.createElement(X.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),type:"password",placeholder:"Password"}))),r.a.createElement(V.a.Item,{style:mt},n("confirm password",{rules:[{required:!0,message:"Please confirm your password!"},{validator:function(e,t,n){t&&t!==a.getFieldValue("password")?n("Passwords must match!"):n()}}]})(r.a.createElement(U.a,{prefix:r.a.createElement(X.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),type:"password",placeholder:"Confirm password"}))),r.a.createElement(V.a.Item,null,r.a.createElement(d.a,{type:"primary",htmlType:"submit",className:"login-form-button"},"Register"),r.a.createElement(c.b,{to:"/user/login",style:{marginLeft:"8px"}}," or Log in")))})),ft={addUser:f},bt=Object(l.b)(null,ft)((function(e){var t=e.addUser,a=Object(n.useState)(null),i=Object(u.a)(a,2),o=i[0],l=i[1],c=Object(n.useCallback)((function(e){null!==e&&l(e)}),[]);return r.a.createElement(pt,{ref:c,onSubmit:function(e){e.preventDefault(),o.validateFields((function(e,a){if(!e){var n={username:a.username,email:a.email,password:a.password};y.a.post("users/",n).then((function(e){t(e.data.user.username,e.data.user.email,e.data.token);var a=new x.a;a.set("trelloc token",e.data.token,{path:"/"}),console.log(a.get("trelloc token"))})).catch((function(e){console.log("Registration error!")})),console.log("Received values of form: ",a),o.resetFields()}}))}})})),gt=function(){return r.a.createElement("main",null,r.a.createElement(A.d,null,r.a.createElement(A.b,{exact:!0,path:"/user/login",render:function(){return r.a.createElement(dt,null)}}),r.a.createElement(A.b,{exact:!0,path:"/user/register",render:function(){return r.a.createElement(bt,null)}}),r.a.createElement(A.b,{path:"/",render:function(){return r.a.createElement(bt,null)}})))},ht=function(e){return!(!e[0]||!e[0].token)},yt={backgroundColor:"black",minHeight:"100vh",fontFamily:"Helvetica",fontSize:"14px",fontWeight:400,lineHeight:"20px"},xt={padding:"4px",backgroundColor:"black",height:"100%"};var Et={addUser:f},vt=Object(l.b)((function(e){return{user:e.user}}),Et)((function(e){var t=e.user,a=e.addUser;return Object(n.useEffect)((function(){var e=(new x.a).get("trelloc token");y.a.defaults.baseURL="https://warm-sea-05824.herokuapp.com/api/",y.a.defaults.headers.common.Authorization="Bearer "+e,y.a.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded",e&&y.a.get("users/me").then((function(t){a(t.data.username,t.data.email,e)}))}),[]),r.a.createElement("div",{className:"App"},r.a.createElement(s.a,{style:yt},r.a.createElement(S,null),r.a.createElement(s.a.Content,{style:xt},ht(t)?r.a.createElement(ot,null):r.a.createElement(gt,null))))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var wt=a(30),kt=Object(wt.combineReducers)({cards:W,lists:se,boards:Ye,user:g}),It=Object(o.a)({reducer:kt});Object(i.render)(r.a.createElement(l.a,{store:It},r.a.createElement(c.a,null,r.a.createElement(vt,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[173,1,2]]]);
//# sourceMappingURL=main.ef6132b0.chunk.js.map